webpackJsonp([0],{0:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n(1);var o=n(169),i=r(o),u=n(174),a=r(u),c=n(329),s=r(c),l=n(330),f=n(332),p=r(f),d=window.location.hash=window.location.hash.slice(1)||"public-demo",h=i["default"](d+":s3cr3t"),y="https://kinto.dev.mozaws.net/v1",v=new p["default"]({remote:y,dbPrefix:d,headers:{Authorization:"Basic "+h}}),b=new l.Store(v,"items");a["default"].render(a["default"].createElement(s["default"],{store:b}),document.getElementById("app"))},169:function(t,e,n){(function(e){!function(){"use strict";function n(t){var n;return n=t instanceof e?t:new e(t.toString(),"binary"),n.toString("base64")}t.exports=n}()}).call(e,n(170).Buffer)},329:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e,n){for(var r=!0;r;){var o=t,i=e,u=n;a=s=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return void 0;t=s,e=i,n=u,r=!0}},c=n(174),s=r(c),l=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),u(e,[{key:"onFormSubmit",value:function(t){t.preventDefault();var e={label:t.target.elements.label.value};this.props.updateRecord(e)}},{key:"render",value:function(){return s["default"].createElement("form",{onSubmit:this.onFormSubmit.bind(this)},s["default"].createElement("input",{name:"label",type:"text"}),s["default"].createElement("button",{type:"submit"},"Add"))}}]),e}(s["default"].Component);e.Form=l;var f=function(t){function e(){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),u(e,[{key:"render",value:function(){return s["default"].createElement("ul",null,this.props.items.map(function(t,e){return s["default"].createElement("li",{key:e},t)}))}}],[{key:"defaultProps",get:function(){return{items:[]}}}]),e}(s["default"].Component);e.List=f;var p=function(t){function e(t){var n=this;o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state=this.props.store.state,this.props.store.on("change",function(t){n.setState(Object.assign({busy:!1},t))}),this.props.store.on("error",function(t){n.setState({busy:!1,error:t.message})}),this.props.store.load()}return i(e,t),u(e,[{key:"updateRecord",value:function(t){this.props.store.create(t)}},{key:"syncRecords",value:function(){this.setState({busy:!0,error:""}),this.props.store.sync()}},{key:"render",value:function(){var t=this.state.busy?"disabled":"";return s["default"].createElement("div",{className:t},s["default"].createElement(l,{updateRecord:this.updateRecord.bind(this)}),s["default"].createElement(f,{items:this.state.items.map(function(t){return t.label})}),s["default"].createElement("button",{onClick:this.syncRecords.bind(this),disabled:t},"Sync!"),s["default"].createElement("div",{className:"error"},this.state.error))}}]),e}(s["default"].Component);e["default"]=p},330:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var o=t,i=e,u=n;a=s=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return void 0;t=s,e=i,n=u,r=!0}},a=n(331),c=function(t){function e(t,n){r(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.state={items:[]},this.collection=t.collection(n)}return o(e,t),i(e,[{key:"onError",value:function(t){this.emit("error",t)}},{key:"load",value:function(){var t=this;return this.collection.list().then(function(e){t.state.items=e.data,t.emit("change",t.state)})["catch"](this.onError.bind(this))}},{key:"create",value:function(t){var e=this;return this.collection.create(t).then(function(t){e.state.items.push(t.data),e.emit("change",e.state)})["catch"](this.onError.bind(this))}},{key:"sync",value:function(){var t=this;return this.collection.sync().then(function(e){return e.ok?t.load():Promise.all(e.conflicts.map(function(e){return t.collection.resolve(e,e.remote)})).then(function(e){return t.sync()})})["catch"](this.onError.bind(this))}}]),e}(a.EventEmitter);e.Store=c}});